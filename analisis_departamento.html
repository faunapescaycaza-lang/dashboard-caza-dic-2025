

<!DOCTYPE html>
<html>
<head>
    <title>Visor de Establecimientos</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <style>
        body { font-family: sans-serif; }
        select { width: 100%; padding: 8px; margin-bottom: 20px; }
        #details-container { border: 1px solid #ddd; padding: 10px; display: none; margin-bottom: 20px; }
        #details-container table th { font-size: small; } /* Added: Reduce font size for first column in details table */
        table { border-collapse: collapse; width: 100%; margin-top: 20px;}
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        button { padding: 10px; margin: 0 10px 20px 0; }
        .chart-container { display: none; max-width: 500px; margin: auto; }
        #surfaceChartContainer { max-width: 800px; }
    </style>
</head>
<body>
    <h2>Visor de Establecimientos</h2>
    <select id="establishment-select" onchange="showDetails()">
        <option value="">Selecciona un establecimiento</option>
        <option value="ESTANCIA LOS HELECHOS">Estancia Los HELECHOS</option><option value="Guenechen S.A y F">Guenechen S.a y F</option><option value="Estancia El Cerrito">Estancia El Cerrito</option><option value="La Mimí">La Mimí</option><option value="Estancia La Maria Juana">Estancia La Maria Juana</option><option value="Quilmahue">Quilmahue</option><option value="El Recuerdo">El Recuerdo</option><option value="Estancia Los Lirios">Estancia Los Lirios</option><option value="Estancias Los Peucos y Los Ranchos">Estancias Los Peucos y Los Ranchos</option><option value="Pilolil">Pilolil</option><option value="ESTANCIA LA RINCONADA">Estancia La RINCONADA</option><option value="Estancia Quillen">Estancia Quillen</option><option value="las pircas">Las Pircas</option><option value="Estancia Santa Isabel">Estancia Santa Isabel</option><option value="Nahuel Mapi">Nahuel Mapi</option><option value="ESTANCIA QUILACHANQUIL">Estancia Quilachanquil</option><option value="El Refugio">El Refugio</option><option value="Estancia Chimehuin">Estancia Chimehuin</option><option value="Estancia Paylacura S.A.">Estancia Paylacura S.A.</option><option value="Estancia Rahue">Estancia Rahue</option><option value="Estancia Santa Rosa">Estancia Santa Rosa</option><option value="San Pedro">San Pedro</option><option value="Collunco">Collunco</option><option value="Ea. Lago Machonico">Ea. Lago Machonico</option><option value="Estancia Belisle">Estancia Belisle</option><option value="Estancia Collon Cura">Estancia Collon Cura</option><option value="Estancia el rincon">Estancia El rincon</option><option value="Santa Lucía">Santa Lucía</option><option value="MAMUIL MALAL">Mamuil Malal</option><option value="CALCATRE S.A.">Calcatre S.a.</option><option value="Estancia bey Malek">Estancia Bey Malek</option><option value="Estancia Cerro de los pinos">Estancia Cerro de los pinos</option><option value="Algar Safaris (ACM-Criadero)">Algar Safaris (ACM-Criadero)</option><option value="Algar Safaris (ACM libre)">Algar Safaris (ACM libre)</option><option value="Los Manantiales de Collón Curá">Los Manantiales de Collón Curá</option><option value="Estancia Casa de Lata (Criadero)">Estancia Casa de Lata (Criadero)</option><option value="Estancia Casa de Lata (Libre)">Estancia Casa de Lata (Libre)</option><option value="Chacabuco">Chacabuco</option><option value="Algar">Algar</option><option value="Estancia Caleufu">Estancia Caleufu</option><option value="LA GOTERA">La Gotera</option><option value="Estancia San Juan">Estancia San Juan</option><option value="Estancia Toki Eder">Estancia Toki Eder</option><option value="Donap SRL">Donap Srl</option><option value="Tres Rios">Tres Rios</option><option value="Dove Outfitters SRL">Dove Outfitters SRL</option><option value="Estancia Las Breñas">Estancia Las Breñas</option><option value="Cabeza de Zorro">Cabeza De Zorro</option><option value="Sihuen - CINAG SA">Sihuen - CINAG SA</option><option value="Huechahue">Huechahue</option><option value="Los Remolinos">Los Remolinos</option><option value="Parque A Diana S.A. ACM Libre">Parque A Diana S.A. ACM Libre</option><option value="Parque A Diana S.A.">Parque A Diana S.A.</option><option value="Palitue">Palitue</option>
    </select>
    <div id="details-container"></div>
    <button onclick="toggleChart('surfaceChartContainer')">Superficie por establecimiento de Caza</button>
    <button onclick="toggleChart('departmentChartContainer')">Establecimientos por Departamento</button>
    <button onclick="toggleChart('breedingSiteChartContainer')">Establecimientos por tipo de Criadero</button>
    <button onclick="toggleChart('speciesChartContainer')">Especies para la práctica de caza</button>
    <button onclick="toggleChart('deerEstimationChartContainer')">Estimación de Ciervos</button>
    <button onclick="toggleChart('deerTrendChartContainer')">Tendencia Población de Ciervos</button>
    <button onclick="toggleChart('environmentChartContainer')">Ambientes Preferenciales de Ciervos</button>
    <button onclick="toggleChart('furtiveExtractionChartContainer')">Ciervos Extraídos por Furtivos</button>
    <button onclick="toggleChart('boarEstimationChartContainer')">Estimación de Jabalíes</button>
    <button onclick="toggleChart('pumaEstimationChartContainer')">Estimación de Pumas</button>
    <button onclick="toggleChart('pumaTrendChartContainer')">Tendencia Poblacional de Pumas</button>
    <button onclick="toggleChart('guanacosChartContainer')">Población de Guanacos</button>

    <div id="surfaceChartContainer" class="chart-container"><canvas id="surfaceChart"></canvas></div>
    <div id="departmentChartContainer" class="chart-container"><canvas id="departmentChart"></canvas><table><tr><th>Departamento</th><th>Cantidad</th><th>Establecimientos</th></tr><tr><td>Alumine</td><td>10</td><td>El Recuerdo<br>Estancia Los Lirios<br>Estancia Quillen<br>ESTANCIA QUILACHANQUIL<br>El Refugio<br>Estancia Rahue<br>Estancia Santa Rosa<br>Estancia el rincon<br>Estancia bey Malek<br>LA GOTERA</td></tr><tr><td>Catan Lil</td><td>5</td><td>Estancia El Cerrito<br>Estancia La Maria Juana<br>Estancia Belisle<br>CALCATRE S.A.<br>Los Remolinos</td></tr><tr><td>Catán Lil</td><td>1</td><td>las pircas</td></tr><tr><td>Collon Cura</td><td>3</td><td>La Mimí<br>ESTANCIA LA RINCONADA<br>Estancia Santa Isabel</td></tr><tr><td>Collón Curá</td><td>1</td><td>Los Manantiales de Collón Curá</td></tr><tr><td>Departamento Aluminé</td><td>1</td><td>Quilmahue</td></tr><tr><td>Huiliches</td><td>17</td><td>ESTANCIA LOS HELECHOS<br>Guenechen S.A y F<br>Estancias Los Peucos y Los Ranchos<br>Pilolil<br>Nahuel Mapi<br>San Pedro<br>Collunco<br>Estancia Collon Cura<br>MAMUIL MALAL<br>Estancia Casa de Lata (Criadero)<br>Estancia Casa de Lata (Libre)<br>Estancia San Juan<br>Estancia Toki Eder<br>Dove Outfitters SRL<br>Sihuen - CINAG SA<br>Huechahue<br>Palitue</td></tr><tr><td>Lacar</td><td>13</td><td>Estancia Chimehuin<br>Estancia Paylacura S.A.<br>Ea. Lago Machonico<br>Estancia Cerro de los pinos<br>Algar Safaris (ACM-Criadero)<br>Algar Safaris (ACM libre)<br>Chacabuco<br>Algar<br>Estancia Caleufu<br>Donap SRL<br>Tres Rios<br>Cabeza de Zorro<br>Parque A Diana S.A.</td></tr><tr><td>Lácar</td><td>2</td><td>Santa Lucía<br>Parque A Diana S.A. ACM Libre</td></tr><tr><td>Quillen</td><td>1</td><td>Estancia Las Breñas</td></tr></table></div>
    <div id="breedingSiteChartContainer" class="chart-container"><canvas id="breedingSiteChart"></canvas><table><tr><th>Inscripto como Criadero</th><th>Cantidad</th><th>Establecimientos</th></tr><tr><td>No</td><td>40</td><td>ESTANCIA LOS HELECHOS<br>Guenechen S.A y F<br>Estancia El Cerrito<br>La Mimí<br>El Recuerdo<br>Estancia Los Lirios<br>ESTANCIA LA RINCONADA<br>Estancia Quillen<br>Estancia Santa Isabel<br>Nahuel Mapi<br>ESTANCIA QUILACHANQUIL<br>El Refugio<br>Estancia Chimehuin<br>Estancia Paylacura S.A.<br>Estancia Rahue<br>Estancia Santa Rosa<br>San Pedro<br>Collunco<br>Ea. Lago Machonico<br>Estancia Belisle<br>Estancia Collon Cura<br>Estancia el rincon<br>Santa Lucía<br>MAMUIL MALAL<br>Estancia Cerro de los pinos<br>Algar Safaris (ACM libre)<br>Los Manantiales de Collón Curá<br>Chacabuco<br>Estancia Caleufu<br>Estancia San Juan<br>Estancia Toki Eder<br>Donap SRL<br>Tres Rios<br>Dove Outfitters SRL<br>Estancia Las Breñas<br>Cabeza de Zorro<br>Sihuen - CINAG SA<br>Huechahue<br>Los Remolinos<br>Palitue</td></tr><tr><td>Si</td><td>14</td><td>Estancia La Maria Juana<br>Quilmahue<br>Estancias Los Peucos y Los Ranchos<br>Pilolil<br>las pircas<br>CALCATRE S.A.<br>Estancia bey Malek<br>Algar Safaris (ACM-Criadero)<br>Estancia Casa de Lata (Criadero)<br>Estancia Casa de Lata (Libre)<br>Algar<br>LA GOTERA<br>Parque A Diana S.A. ACM Libre<br>Parque A Diana S.A.</td></tr></table></div>
    <div id="speciesChartContainer" class="chart-container"><canvas id="speciesChart"></canvas><table><tr><th>Especie</th><th>Cantidad de Establecimientos</th></tr><tr><td>Antílope de la India</td><td>3</td></tr><tr><td>Búfalo de agua</td><td>1</td></tr><tr><td>Cabra común</td><td>3</td></tr><tr><td>Cabra Íbex alpina</td><td>1</td></tr><tr><td>Cabra íbex</td><td>2</td></tr><tr><td>Ciervo Colorado</td><td>53</td></tr><tr><td>Ciervo axis</td><td>2</td></tr><tr><td>Ciervo dama</td><td>4</td></tr><tr><td>Ciervo del Padre David</td><td>4</td></tr><tr><td>Jabalí Europeo</td><td>37</td></tr><tr><td>Muflón</td><td>2</td></tr><tr><td>No especificado</td><td>1</td></tr><tr><td>Oveja común</td><td>3</td></tr><tr><td>Oveja multicuernos</td><td>3</td></tr><tr><td>Puma</td><td>8</td></tr></table></div>
    <div id="deerEstimationChartContainer" class="chart-container"><canvas id="deerEstimationChart"></canvas><table><tr><th>Rango de Estimación</th><th>Cantidad de Establecimientos</th></tr><tr><td>Entre 250 y 500 ciervos</td><td>18</td></tr><tr><td>Entre 50 y 250 ciervos</td><td>18</td></tr><tr><td>Entre 500 y 1000 ciervos</td><td>10</td></tr><tr><td>Hasta 50 ciervos</td><td>3</td></tr><tr><td>Mas de 1000 ciervos</td><td>5</td></tr></table></div>
    <div id="deerTrendChartContainer" class="chart-container"><canvas id="deerTrendChart"></canvas><table><tr><th>Tendencia Poblacional</th><th>Cantidad de Establecimientos</th></tr><tr><td>Aumentó</td><td>21</td></tr><tr><td>Disminuyó</td><td>4</td></tr><tr><td>Se mantuvo estable</td><td>29</td></tr></table></div>
    <div id="environmentChartContainer" class="chart-container"><canvas id="environmentChart"></canvas><table><tr><th>Ambiente</th><th>Cantidad de Establecimientos</th></tr><tr><td>Bosque abierto</td><td>13</td></tr><tr><td>Bosque denso</td><td>12</td></tr><tr><td>Cañadones</td><td>33</td></tr><tr><td>Coironal</td><td>24</td></tr><tr><td>Costa de ríos e isla</td><td>17</td></tr><tr><td>Estepa arbustiva alta</td><td>18</td></tr><tr><td>Estepa arbustiva baja</td><td>22</td></tr><tr><td>Mallín</td><td>44</td></tr><tr><td>Otros</td><td>1</td></tr><tr><td>tipo parque</td><td>13</td></tr></table></div>
    <div id="furtiveExtractionChartContainer" class="chart-container"><canvas id="furtiveExtractionChart"></canvas><table><tr><th>Cantidad Estimada de Ciervos Extraídos</th><th>Establecimientos</th></tr><tr><td>'-1</td><td>1</td><td>Estancia Santa Rosa</td></tr><tr><td>'-2</td><td>1</td><td>ESTANCIA QUILACHANQUIL</td></tr><tr><td>0</td><td>7</td><td>ESTANCIA LOS HELECHOS<br>Nahuel Mapi<br>CALCATRE S.A.<br>Los Manantiales de Collón Curá<br>Estancia Casa de Lata (Criadero)<br>Estancia Caleufu<br>Cabeza de Zorro</td></tr><tr><td>1</td><td>1</td><td>Tres Rios</td></tr><tr><td>10</td><td>11</td><td>La Mimí<br>Estancia Santa Isabel<br>Estancia Chimehuin<br>Estancia Collon Cura<br>Santa Lucía<br>MAMUIL MALAL<br>LA GOTERA<br>Estancia Las Breñas<br>Huechahue<br>Los Remolinos<br>Parque A Diana S.A. ACM Libre</td></tr><tr><td>12</td><td>1</td><td>Parque A Diana S.A.</td></tr><tr><td>15</td><td>4</td><td>Pilolil<br>Estancia bey Malek<br>Estancia Casa de Lata (Libre)<br>Estancia San Juan</td></tr><tr><td>2</td><td>3</td><td>Estancia El Cerrito<br>El Recuerdo<br>Algar</td></tr><tr><td>20</td><td>3</td><td>Quilmahue<br>las pircas<br>Estancia Cerro de los pinos</td></tr><tr><td>3</td><td>2</td><td>Estancia Rahue<br>Estancia el rincon</td></tr><tr><td>3.4</td><td>1</td><td>El Refugio</td></tr><tr><td>30</td><td>2</td><td>ESTANCIA LA RINCONADA<br>Sihuen - CINAG SA</td></tr><tr><td>4</td><td>1</td><td>Estancia Belisle</td></tr><tr><td>40</td><td>1</td><td>Estancia Toki Eder</td></tr><tr><td>5</td><td>3</td><td>Estancia La Maria Juana<br>Ea. Lago Machonico<br>Algar Safaris (ACM libre)</td></tr><tr><td>6</td><td>3</td><td>Guenechen S.A y F<br>Estancia Los Lirios<br>Estancia Quillen</td></tr><tr><td>60</td><td>1</td><td>Palitue</td></tr><tr><td>8</td><td>2</td><td>Estancia Paylacura S.A.<br>Dove Outfitters SRL</td></tr><tr><td>80</td><td>1</td><td>Estancias Los Peucos y Los Ranchos</td></tr><tr><td>No especificado</td><td>5</td><td>San Pedro<br>Collunco<br>Algar Safaris (ACM-Criadero)<br>Chacabuco<br>Donap SRL</td></tr></table></div>
    <div id="boarEstimationChartContainer" class="chart-container"><canvas id="boarEstimationChart"></canvas></div>
    <div id="pumaEstimationChartContainer" class="chart-container"><canvas id="pumaEstimationChart"></canvas><table><tr><th>Rango de Estimación</th><th>Cantidad de Establecimientos</th></tr><tr><td>0</td><td>1</td></tr><tr><td>1-5</td><td>11</td></tr><tr><td>11-20</td><td>8</td></tr><tr><td>21+</td><td>10</td></tr><tr><td>6-10</td><td>9</td></tr><tr><td>No especificado/Desconocido</td><td>15</td></tr></table></div>
    <div id="pumaTrendChartContainer" class="chart-container"><canvas id="pumaTrendChart"></canvas><table><tr><th>Tendencia Poblacional</th><th>Cantidad de Establecimientos</th></tr><tr><td>Aumento</td><td>19</td></tr><tr><td>Se mantuvo estable</td><td>35</td></tr></table></div>
    <div id="guanacosChartContainer" class="chart-container"><canvas id="guanacosChart"></canvas><table><tr><th>¿Población de Guanacos?</th><th>Cantidad de Establecimientos</th></tr><tr><td>No</td><td>31</td></tr><tr><td>Si</td><td>23</td></tr></table></div>

    <script src="data.js"></script>
    <script>
        // Chart.js and other JS logic will be here
        let surfaceChart, departmentChart, breedingSiteChart, speciesChart, deerEstimationChart, deerTrendChart, environmentChart, furtiveExtractionChart, boarEstimationChart, pumaEstimationChart, pumaTrendChart, guanacosChart;
        Chart.register(ChartDataLabels);
        
        function showDetails() {
            const select = document.getElementById('establishment-select');
            const selectedName = select.value;
            const detailsContainer = document.getElementById('details-container');
            if (!selectedName) { detailsContainer.style.display = 'none'; return; }
            const selectedEstablishment = establishmentData.find(e => e['Nombre del establecimiento'] === selectedName);
            if (selectedEstablishment) {
                    let table = '<table>';
                for (const key in selectedEstablishment) { table += '<tr><th>' + key + '</th><td>' + selectedEstablishment[key] + '</td></tr>'; }
                table += '</table>';
                detailsContainer.innerHTML = table;
                detailsContainer.style.display = 'block';
            }
        }

        function toggleChart(chartId) {
            const chartContainer = document.getElementById(chartId);
            const isHidden = chartContainer.style.display === 'none';
            document.querySelectorAll('.chart-container').forEach(container => { if (container.id !== chartId) { container.style.display = 'none'; } });
            
            if (isHidden) {
                chartContainer.style.display = 'block';
                const ctx = document.getElementById(chartId.replace('Container', '')).getContext('2d');
                
                if (chartId === 'surfaceChartContainer' && !surfaceChart) {
                    surfaceChart = new Chart(ctx, { type: 'bar', data: { labels: ["ESTANCIA LOS HELECHOS", "Guenechen S.A y F", "Estancia El Cerrito", "La Mimí", "Estancia La Maria Juana", "Quilmahue", "El Recuerdo", "Estancia Los Lirios", "Estancias Los Peucos y Los Ranchos", "Pilolil", "ESTANCIA LA RINCONADA", "Estancia Quillen", "las pircas", "Estancia Santa Isabel", "Nahuel Mapi", "ESTANCIA QUILACHANQUIL", "El Refugio", "Estancia Chimehuin", "Estancia Paylacura S.A.", "Estancia Rahue", "Estancia Santa Rosa", "San Pedro", "Collunco", "Ea. Lago Machonico", "Estancia Belisle", "Estancia Collon Cura", "Estancia el rincon", "Santa Lucía", "MAMUIL MALAL", "CALCATRE S.A.", "Estancia bey Malek", "Estancia Cerro de los pinos", "Algar Safaris (ACM-Criadero)", "Algar Safaris (ACM libre)", "Los Manantiales de Collón Curá", "Estancia Casa de Lata (Criadero)", "Estancia Casa de Lata (Libre)", "Chacabuco", "Algar", "Estancia Caleufu", "LA GOTERA", "Estancia San Juan", "Estancia Toki Eder", "Donap SRL", "Tres Rios", "Dove Outfitters SRL", "Estancia Las Breñas", "Cabeza de Zorro", "Sihuen - CINAG SA", "Huechahue", "Los Remolinos", "Parque A Diana S.A. ACM Libre", "Parque A Diana S.A.", "Palitue"], datasets: [{ label: 'Superficie (hectáreas)', data: [2500.0, 2800.0, 2018.0, 40.4, 9850.0, 2383.0, 775.0, 1760.0, 10900.0, 9900.0, 7000.0, 7300.0, 7147.0, 48000.0, 3200.0, 8000.0, 500.0, 1000.0, 11000.0, 7300.0, 500.0, 20000.0, 20000.0, 9362.04, 7000.0, 37.0, 500.0, 4000.0, 20000.0, 10700.0, 13.377, 20000.0, 17230.0, 17230.0, 2047.0, 1600.0, 4400.0, 60000.0, 17663.0, 33584.0, 5000.0, 1000.0, 1030.0, 70000.0, 400.0, 9869.0, 2264.0, 11000.0, 10000.0, 8000.0, 28300.0, 3800.0, 3800.0, 10000.0], backgroundColor: 'rgba(54, 162, 235, 0.2)', borderColor: 'rgba(54, 162, 235, 1)', borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true } } } });
                } else if (chartId === 'departmentChartContainer' && !departmentChart) {
                    departmentChart = new Chart(ctx, { type: 'bar', data: { labels: ["Alumine", "Catan Lil", "Catán Lil", "Collon Cura", "Collón Curá", "Departamento Aluminé", "Huiliches", "Lacar", "Lácar", "Quillen"], datasets: [{ label: 'Nro de Establecimientos', data: [10, 5, 1, 3, 1, 1, 17, 13, 2, 1], backgroundColor: 'rgba(255, 99, 132, 0.2)', borderColor: 'rgba(255, 99, 132, 1)', borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                } else if (chartId === 'breedingSiteChartContainer' && !breedingSiteChart) {
                    breedingSiteChart = new Chart(ctx, { type: 'pie', data: { labels: ["No", "Si"], datasets: [{ data: [40, 14], backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(255, 206, 86, 0.2)'], borderColor: ['rgba(75, 192, 192, 1)', 'rgba(255, 206, 86, 1)'], borderWidth: 1 }] }, options: { plugins: { datalabels: { formatter: (value, ctx) => { let sum = 0; let dataArr = ctx.chart.data.datasets[0].data; dataArr.map(data => { sum += data; }); let percentage = (value*100 / sum).toFixed(2)+"%"; return percentage + ' (' + value + ')'; }, color: '#000' } } } });
                } else if (chartId === 'speciesChartContainer' && !speciesChart) {
                    speciesChart = new Chart(ctx, { type: 'bar', data: { labels: ["Antílope de la India", "Búfalo de agua", "Cabra común", "Cabra Íbex alpina", "Cabra íbex", "Ciervo Colorado", "Ciervo axis", "Ciervo dama", "Ciervo del Padre David", "Jabalí Europeo", "Muflón", "No especificado", "Oveja común", "Oveja multicuernos", "Puma"], datasets: [{ label: 'Nro de Establecimientos', data: [3, 1, 3, 1, 2, 53, 2, 4, 4, 37, 2, 1, 3, 3, 8], backgroundColor: 'rgba(153, 102, 255, 0.2)', borderColor: 'rgba(153, 102, 255, 1)', borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                } else if (chartId === 'deerEstimationChartContainer' && !deerEstimationChart) {
                    deerEstimationChart = new Chart(ctx, { type: 'bar', data: { labels: ["Entre 250 y 500 ciervos", "Entre 50 y 250 ciervos", "Entre 500 y 1000 ciervos", "Hasta 50 ciervos", "Mas de 1000 ciervos"], datasets: [{ label: 'Nro de Establecimientos', data: [18, 18, 10, 3, 5], backgroundColor: 'rgba(255, 159, 64, 0.2)', borderColor: 'rgba(255, 159, 64, 1)', borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                } else if (chartId === 'deerTrendChartContainer' && !deerTrendChart) {
                    deerTrendChart = new Chart(ctx, { type: 'pie', data: { labels: ["Aumentó", "Disminuyó", "Se mantuvo estable"], datasets: [{ data: [21, 4, 29], backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)'], borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)'], borderWidth: 1 }] }, options: { plugins: { datalabels: { formatter: (value, ctx) => { let sum = 0; let dataArr = ctx.chart.data.datasets[0].data; dataArr.map(data => { sum += data; }); let percentage = (value*100 / sum).toFixed(2)+"%"; return percentage + ' (' + value + ')'; }, color: '#000' } } } });
                } else if (chartId === 'environmentChartContainer' && !environmentChart) {
                    environmentChart = new Chart(ctx, { type: 'bar', data: { labels: ["Bosque abierto", "Bosque denso", "Cañadones", "Coironal", "Costa de ríos e isla", "Estepa arbustiva alta", "Estepa arbustiva baja", "Mallín", "Otros", "tipo parque"], datasets: [{ label: 'Nro de Establecimientos', data: [13, 12, 33, 24, 17, 18, 22, 44, 1, 13], backgroundColor: 'rgba(75, 192, 192, 0.2)', borderColor: 'rgba(75, 192, 192, 1)', borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                } else if (chartId === 'furtiveExtractionChartContainer' && !furtiveExtractionChart) {
                    furtiveExtractionChart = new Chart(ctx, { type: 'bar', data: { labels: ["'-1", "'-2", "0", "1", "10", "12", "15", "2", "20", "3", "3.4", "30", "4", "40", "5", "6", "60", "8", "80", "No especificado"], datasets: [{ label: 'Nro de Establecimientos', data: [1, 1, 7, 1, 11, 1, 4, 3, 3, 2, 1, 2, 1, 1, 3, 3, 1, 2, 1, 5], backgroundColor: 'rgba(255, 99, 71, 0.2)', borderColor: 'rgba(255, 99, 71, 1)', borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                } else if (chartId === 'boarEstimationChartContainer' && !boarEstimationChart) {
                    boarEstimationChart = new Chart(ctx, { type: 'bar', data: { labels: ["0-50", "101-200", "201-500", "501+", "51-100", "No especificado"], datasets: [{ label: 'Nro de Establecimientos', data: [16, 10, 6, 5, 9, 8], backgroundColor: ['rgba(255, 159, 64, 0.2)'], borderColor: ['rgba(255, 159, 64, 1)'], borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                } else if (chartId === 'pumaEstimationChartContainer' && !pumaEstimationChart) {
                    pumaEstimationChart = new Chart(ctx, { type: 'bar', data: { labels: ["0", "1-5", "11-20", "21+", "6-10", "No especificado/Desconocido"], datasets: [{ label: 'Nro de Establecimientos', data: [1, 11, 8, 10, 9, 15], backgroundColor: ['rgba(102, 102, 153, 0.2)'], borderColor: ['rgba(102, 102, 153, 1)'], borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                } else if (chartId === 'pumaTrendChartContainer' && !pumaTrendChart) {
                    pumaTrendChart = new Chart(ctx, { type: 'pie', data: { labels: ["Aumento", "Se mantuvo estable"], datasets: [{ data: [19, 35], backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)'], borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'], borderWidth: 1 }] }, options: { plugins: { datalabels: { formatter: (value, ctx) => { let sum = 0; let dataArr = ctx.chart.data.datasets[0].data; dataArr.map(data => { sum += data; }); let percentage = (value*100 / sum).toFixed(2)+"%"; return percentage + ' (' + value + ')'; }, color: '#000' } } } });
                } else if (chartId === 'guanacosChartContainer' && !guanacosChart) {
                    guanacosChart = new Chart(ctx, { type: 'bar', data: { labels: ["No", "Si"], datasets: [{ label: 'Nro de Establecimientos', data: [31, 23], backgroundColor: ['rgba(255, 159, 64, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(201, 203, 207, 0.2)'], borderColor: ['rgba(255, 159, 64, 1)', 'rgba(75, 192, 192, 1)', 'rgba(201, 203, 207, 1)'], borderWidth: 1 }] }, options: { plugins: { datalabels: { display: false } }, scales: { y: { beginAtZero: true, ticks: { stepSize: 1 } } } } });
                }
            } else {
                chartContainer.style.display = 'none';
            }
        }
    </script>
</body>
</html>
